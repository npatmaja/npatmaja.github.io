<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    A Self Contained Go Development Environment // nauval atmaja
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="golang,development,container,contained,docker,vim-go,">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.92.1" />


  <meta property="og:title" content="A Self Contained Go Development Environment" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="http://nauvalatmaja.com/2017/12/31/a-self-contained-go-development-environment/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="http://nauvalatmaja.com//css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="nauval atmaja" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/tomorrow-night-bright.min.css">
  


  

  

  <link rel="stylesheet" href="http://nauvalatmaja.com/css/custom.css">


  <script>
    if (window.location.hostname != "localhost") {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', "UA-58073141-1", 'auto');
      ga('send', 'pageview');
    }
  </script>


</head>

<body>
	
		<div id="nav-to-top">
			<a href="#top">
				<i class="fa fa-angle-double-up"> </i>
				To Top
			</a>
		</div>
	

	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

    

    
        <h1 class="brand-title">
          <a class="title" href="http://nauvalatmaja.com/">
          <span class="nav-item-separator">//</span>nauval atmaja
        </a>
        </h1>
    
    
      <h2 class="brand-tagline">Thoughts on software, product, technology, and anything related</h2>
    

    <nav class="nav">
      <ul class="nav-list">
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/post/">archives</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/categories/">categories</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/series/">series</a></li>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="http://www.github.com/npatmaja" target="_blank"><i class='fa fa-github fa-2x'></i></a>
        
      
        
        <a href="https://id.linkedin.com/in/nauvalatmaja/" target="_blank"><i class='fa fa-linkedin-square fa-2x'></i></a>
        
      
        
        <a href="http://www.twitter.com/novalpas" target="_blank"><i class='fa fa-twitter fa-2x'></i></a>
        
      
        
        <a href="https://noval78.wordpress.com/" target="_blank"><i class='fa fa-wordpress fa-2x'></i></a>
        
      

    </div>
    
  </div>
</div>


		

    <div class="content pure-u-1 pure-u-md-3-4">
			<a name="top"></a>
			

			
				
			    <div id="toc" class="pure-u-1 pure-u-md-1-4">
					<small class="toc-label">Contents</small>
			   	 	<nav id="TableOfContents"></nav>
			    </div>
		    
	    
			<div class="wrapper">
				<section class="post">
					<header class="post-header">
						<h1 class="post-title">
							
				      A Self Contained Go Development Environment
						</h1>
						<h3 class="post-subtitle">
		        	
		        </h3>
					</header>
	        
	        	<span class="post-date">
							<span class="post-date-day"><span class="post-date-month">Dec 31, 2017</span> </span>
	        	</span>
	        

	        
	        	
	        

					
					
						<div class="post-categories">
						
							<a class="post-category post-category-development" href="http://nauvalatmaja.com//categories/development">development</a>
						
							<a class="post-category post-category-programming" href="http://nauvalatmaja.com//categories/programming">programming</a>
						
							<a class="post-category post-category-productivity" href="http://nauvalatmaja.com//categories/productivity">productivity</a>
						
						</div>
					

					
			    	<div class="social-sharing">
	<a class="share-button-facebook" onClick="return popupShare(this.href);" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fnauvalatmaja.com%2f2017%2f12%2f31%2fa-self-contained-go-development-environment%2f" target="_blank"><i class="fa fa-facebook"><span>Like</span></i></a>
	<a class="share-button-google-plus" onClick="return popupShare(this.href);" href="https://plus.google.com/share?url=http%3a%2f%2fnauvalatmaja.com%2f2017%2f12%2f31%2fa-self-contained-go-development-environment%2f" target="_blank"><i class="fa fa-google-plus"><span>Google +1</span></i></a>
	<a class="share-button-linkedin" onClick="return popupShare(this.href);" href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fnauvalatmaja.com%2f2017%2f12%2f31%2fa-self-contained-go-development-environment%2f&title=A%20Self%20Contained%20Go%20Development%20Environment&summary=A%20Self%20Contained%20golang%20development%20environment%20using%20Docker%2c%20vim%20and%20vim-go}&source=nauval%20atmaja" target="_blank"><i class="fa fa-linkedin"><span>Share on LinkedIn</span></i></a>
	<a class="share-button-twitter" onClick="return popupShare(this.href);" href="http://twitter.com/share?text=A%20Self%20Contained%20Go%20Development%20Environment&url=http%3a%2f%2fnauvalatmaja.com%2f2017%2f12%2f31%2fa-self-contained-go-development-environment%2f" target="_blank"><i class="fa fa-twitter"><span>Tweet</span></i></a>	
</div>
			    

					

	  			<p><a href="https://golang.org/">Go(lang)</a> is getting momentum in Indonesia during the recent years as big
names are migrating to Go. <a href="https://www.slideshare.net/qasim/golang-tokopedia-53090669">Tokopedia</a>, <a href="https://www.techinasia.com/gojek-insider-account-of-scaling-900x-doubling">Go-Jek</a>, I&rsquo;m looking
at you both. Not to mention many other startups build their tech-stack using Go
from the get-go due to the hype.</p>
<p>Go is an interesting programming language, not to mention it has fun part in it.
It combines the ease of dynamically typed language and the efficiency of statically
typed language with support for networked and multicore computing (<a href="https://golang.org/doc/faq#creating_a_new_language">Go FAQ page</a>, 2017).
Moreover, we can also use <a href="/2016/04/15/function-composition-in-go/">some functional programming techniques in Go</a>, fun, Right!</p>
<p>However, there was one thing that bothering me when I started to learn Go. It requires me to
set up all projects inside its <code>/go/src</code> directory which is a bit inconvenient for me as
I need to reorganize my directories' structure to do so. I put all my programming projects
under <code>Codes</code> directory, and I wanted it be the same even when coding Go program.</p>
<p>Then, an idea to use Docker to create a development environment for Go development popped up.
I have used Docker as a development tool to build and run a JavaScript application so I thought
it should be possible to create a development environment for Go.</p>
<p>The requirement was simple: I should not need to install anything to program with Go except for
downloading the Docker image. Then, the challenges came. Firstly, the editor should be embedded
in the Docker image as all go tools are inside the container it self. This is solved by
using the awesome Fatih&rsquo;s <a href="https://github.com/fatih/vim-go">vim-go</a> that provided essential tools to write, build and test
Go programs. Secondly, as the development image would use vim as the editor, the vimrc should use
my <a href="https://github.com/npatmaja/dotfiles/blob/master/.vimrc">vimrc</a> to avoid drop of productivity. This was resolved by creating <code>vimrc</code> to
container&rsquo;s <code>/etc/vim/</code> that will be load when starting up.</p>
<p>Thirdly, is to make sure that the project&rsquo;s
files are owned by the developer&rsquo;s machine user. To solve this, I leveraged the use anonymous <code>nobody</code>
user in the container by providing <code>-u uid:gid</code> (user id:group id) option. By doing so, the owner of
the edited files will be the same as the given <code>uid</code> and <code>guid</code>. Otherwise, the code will be owned
by <code>root</code> because it is the default user of the container.</p>
<p>After experimenting (and quite long hiatus) I developed <code>godev</code>, a self contained Go development environment.
As usual, the project is hosted in <a href="https://github.com/npatmaja/go-dev-env/">github</a> while the resulting image can be found in <a href="https://hub.docker.com/r/npatmaja/godev/">docker hub</a>.</p>
<p>To try the container, run the following command:</p>
<pre tabindex="0"><code>$ docker run -it -v ${PWD}:/go/src/app  -u `id -u`:`id -g` npatmaja/godev sh -l
</code></pre>

					
			    	<div class="social-sharing">
	<a class="share-button-facebook" onClick="return popupShare(this.href);" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fnauvalatmaja.com%2f2017%2f12%2f31%2fa-self-contained-go-development-environment%2f" target="_blank"><i class="fa fa-facebook"><span>Like</span></i></a>
	<a class="share-button-google-plus" onClick="return popupShare(this.href);" href="https://plus.google.com/share?url=http%3a%2f%2fnauvalatmaja.com%2f2017%2f12%2f31%2fa-self-contained-go-development-environment%2f" target="_blank"><i class="fa fa-google-plus"><span>Google +1</span></i></a>
	<a class="share-button-linkedin" onClick="return popupShare(this.href);" href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fnauvalatmaja.com%2f2017%2f12%2f31%2fa-self-contained-go-development-environment%2f&title=A%20Self%20Contained%20Go%20Development%20Environment&summary=A%20Self%20Contained%20golang%20development%20environment%20using%20Docker%2c%20vim%20and%20vim-go}&source=nauval%20atmaja" target="_blank"><i class="fa fa-linkedin"><span>Share on LinkedIn</span></i></a>
	<a class="share-button-twitter" onClick="return popupShare(this.href);" href="http://twitter.com/share?text=A%20Self%20Contained%20Go%20Development%20Environment&url=http%3a%2f%2fnauvalatmaja.com%2f2017%2f12%2f31%2fa-self-contained-go-development-environment%2f" target="_blank"><i class="fa fa-twitter"><span>Tweet</span></i></a>	
</div>
			    

					
						<div class="post-tags">
							<i class="fa fa-tags fa-1"></i>
							
								<a class="post-tag post-tag-golang" href="/tags/golang">golang</a>
							
								<a class="post-tag post-tag-development" href="/tags/development">development</a>
							
								<a class="post-tag post-tag-vim-go" href="/tags/vim-go">vim-go</a>
							
								<a class="post-tag post-tag-docker" href="/tags/docker">docker</a>
							
						</div>
					
					


					
  <div class="paging">
    <span class="paging-label">More Reading</span>
    <div class="clear"></div>
    
      <div class="paging-older">
        <a class="paging-link" href="/2022/03/15/testing-asycnhronous-code-in-java/">
          <i class="fa hta-left-white-arrow"></i> Testing Asycnhronous Code in Java
        </a>
      </div>
    

    
      <div class="paging-newer">
        <a class="paging-link" href="/2017/05/28/going-vim/">
          Going Vim <i class="fa hta-right-white-arrow"></i>
        </a>
      </div>
    
  </div>


					<div class="clear">

					</div>
					
		      	<aside id=comments>
    <div><h4> Comments </h4></div>
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "nauvalatmaja" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</aside>

		      
	    	</section>
				
  <section class="aboutme">
    
      <img src="/img/avatar.png">
    
    <p>Hello, I'm Nauval. I code for living. I blog in my spare time.</p> <p>Have a look around and drop me an <a href="mailto:nauval.atmaja@gmail.com">email</a> should you have any questions, feedback or just to say hi!</p>
  </section>


	      <section class="footer">
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>
	<p>
		
		
			&copy; 2014-2022 Nauval Atmaja.
			<a href="http://creativecommons.org/licenses/by/3.0/">Some rights reserved</a>;
			please attribute properly and link back. Powered by <a href="http://gohugo.io/">Hugo</a>.
			Theme based on <a href="https://github.com/tmaiaroto/hugo-redlounge">hugo-redlougne</a>.
		</p>
</section>

			</div>
    </div>
  </div>
	
		<script type="text/javascript">
			onscroll = function() {
			  var toTopVisible = false;
			  var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
			  if (scrollTop > 1000) {
			    if (!toTopVisible) {
			      document.getElementById('nav-to-top').style.display = 'block';
			    }
			  } else {
			    if (scrollTop < 1000 || toTopVisible) {
			      document.getElementById('nav-to-top').style.display = 'none';
			    }
			  }
			};
		</script>
	

	
		<script type="text/javascript">
			function popupShare(url) {
				window.open(url, '_blank', 'scrollbars,resizable,height=525,width=600');
				return false;
			}
		</script>
	

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


</body>
</html>
